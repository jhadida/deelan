{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Deelan Documentation","text":""},{"location":"#what-is-deelan","title":"What is Deelan?","text":"<p>Deelan (Data Engineering Electronic LAboratory Notebook) is a static-first knowledge management tool for technical individuals and teams. It is designed for people who want a durable, searchable, versioned knowledge base that stays close to plain text authoring and yet provides a useful, scaleable, and beautiful web-based view to navigate contents.</p> <p>At a practical level, Deelan helps you:</p> <ul> <li>Write and maintain technical notes in markdown.</li> <li>Separate long-form writeups (<code>post</code>) from quick references (<code>snippet</code>).</li> <li>Search content with both simple filters and advanced query expressions.</li> <li>Keep traceable history through git timeline integration.</li> <li>Export selected content to self-contained HTML or PDF.</li> <li>Run fully offline with local assets and static-site behavior.</li> </ul> <p>The project intentionally favors transparent files and reproducible build steps over opaque app-state storage.  That makes it suitable for individuals, small teams, and internal engineering groups that want control over content, portability across environments, and predictable long-term maintenance.</p> <p>If you are new to Deelan, start with the User Guide. If you are integrating or automating workflows, use the CLI Reference. If you are extending internals or build behavior, use the Developer Guide. Take a look at the collection of advanced topics if anything piques your interest.</p>"},{"location":"#choose-a-track","title":"Choose a Track","text":"<ul> <li>New users and authors:<ul> <li>Start in User Guide</li> </ul> </li> <li>CLI usage and command flags:<ul> <li>Go to CLI Reference</li> </ul> </li> <li>Build pipeline, internals, and maintenance:<ul> <li>Go to Developer Guide</li> </ul> </li> </ul>"},{"location":"#quick-decision-table","title":"Quick Decision Table","text":"I want to... Go to Install and run Deelan quickly Getting Started Write posts/snippets with the right syntax Authoring Understand frontmatter fields and ID rules Frontmatter Configure timezone/themes/links Configuration Use the main <code>deelan</code> command CLI Overview Manage tags from CLI Tag Management Export to HTML/PDF Export Contents Understand search query syntax Search Grammar Work on build internals Developer Notes"},{"location":"cli-build/","title":"Build Workflow","text":"<p>This page describes the static build workflow and related commands.</p>"},{"location":"cli-build/#user-facing-workflow","title":"User-Facing Workflow","text":"<ul> <li><code>deelan validate</code></li> <li><code>deelan build</code></li> <li><code>deelan serve</code></li> </ul>"},{"location":"cli-build/#build-pipeline-stages","title":"Build Pipeline Stages","text":"<p><code>deelan build</code> runs:</p> <ol> <li><code>build:prepare-mathjax</code></li> <li><code>build:prepare-search</code></li> <li><code>build:prepare-content-assets</code></li> <li><code>validate</code></li> <li><code>build:indexes</code></li> <li><code>build:analytics</code></li> <li><code>build:timeline</code></li> <li><code>astro build</code></li> </ol>"},{"location":"cli-build/#maintainerdebug-commands","title":"Maintainer/Debug Commands","text":"<p>These are typically run via npm scripts:</p> <ul> <li><code>npm run build:prepare-mathjax</code></li> <li><code>npm run build:prepare-search</code></li> <li><code>npm run build:prepare-content-assets</code></li> <li><code>npm run build:indexes</code></li> <li><code>npm run build:analytics</code></li> <li><code>npm run build:timeline</code></li> <li><code>npm run build:preflight</code></li> </ul> <p>Synthetic stress-test helpers:</p> <ul> <li><code>npm run synthetic:generate -- --posts 140 --snippets 220 --seed 20260222</code></li> <li><code>npm run synthetic:clean</code></li> <li><code>npm run validate:with-synthetic</code></li> <li><code>npm run build:with-synthetic</code></li> <li><code>npm run test:with-synthetic</code></li> </ul>"},{"location":"cli-export/","title":"Export Contents","text":""},{"location":"cli-export/#cli","title":"CLI","text":"<pre><code>deelan export --id &lt;content-id&gt; --format html --out ./exports\ndeelan export --id &lt;content-id&gt; --format pdf --out ./exports\n</code></pre> <p>Arguments:</p> <ul> <li><code>--id</code> (required): generated content ID (<code>post--&lt;slug&gt;</code> or <code>snippet--&lt;slug&gt;</code>)</li> <li><code>--format</code> (optional): <code>html</code> (default) or <code>pdf</code></li> <li><code>--out</code> (optional): output directory (default: <code>./exports</code>)</li> <li><code>--theme</code> (optional): <code>light</code> or <code>dark</code></li> <li><code>--pdf-scale</code> (optional): PDF scale factor (<code>&gt; 0</code> and <code>&lt;= 2</code>, default: <code>1</code>)</li> </ul> <p>Theme behavior:</p> <ul> <li>If <code>--theme</code> is provided, export uses that theme.</li> <li>Otherwise export defaults to <code>default_theme</code> from <code>deelan.config.yml</code>.</li> </ul>"},{"location":"cli-export/#html-export","title":"HTML Export","text":"<p>Outputs:</p> <ul> <li><code>&lt;id&gt;/index.html</code></li> <li><code>&lt;id&gt;/style.css</code></li> <li><code>&lt;id&gt;/mathjax/...</code></li> </ul> <p>This keeps each export self-contained in a single directory while avoiding large single-file HTML output by default.</p>"},{"location":"cli-export/#pdf-export","title":"PDF Export","text":"<p>PDF is generated from the exported HTML via Playwright/Chromium. Output path:</p> <ul> <li><code>&lt;id&gt;/&lt;id&gt;.pdf</code></li> </ul> <p>Scale can be tuned to fit page content density:</p> <pre><code>deelan export --id post--partitioning-primer --format pdf --pdf-scale 0.95\n</code></pre> <p>Playwright/Chromium is optional and only required for PDF export. If missing, install:</p> <pre><code>npm install playwright\nnpx playwright install chromium\n</code></pre> <p>Repository maintainers can also use:</p> <pre><code>npm run optional:pdf\n</code></pre>"},{"location":"cli-export/#notes","title":"Notes","text":"<ul> <li>Export validates content frontmatter before generating output.</li> <li>IDs are generated from file path and filename (not read from frontmatter).</li> <li>Export fails on duplicate IDs.</li> </ul>"},{"location":"cli-init/","title":"Initialization","text":"<p><code>deelan init</code> scaffolds a new project directory.</p>"},{"location":"cli-init/#command","title":"Command","text":"<pre><code>deelan init [dir] [options]\n</code></pre>"},{"location":"cli-init/#default-output","title":"Default Output","text":"<ul> <li><code>content/</code> starter post + snippet</li> <li><code>public/js/</code></li> <li><code>astro.config.mjs</code>, <code>tsconfig.json</code>, <code>deelan.config.yml</code></li> <li><code>.gitignore</code> (<code>.astro</code>, <code>.generated</code>, <code>.site-deelan</code>, <code>exports</code>)</li> </ul> <p>By default, source templates are resolved from the installed package at build time.</p>"},{"location":"cli-init/#options","title":"Options","text":"<ul> <li><code>--with-src</code> copy local <code>src/</code> templates for advanced customization</li> <li><code>--no-vscode</code> skip <code>.vscode</code> helper files</li> <li><code>--no-frontmatter</code> skip <code>.frontmatter</code> helper files</li> <li><code>--no-git</code> skip git initialization</li> <li><code>--no-lfs-attrs</code> skip default <code>.gitattributes</code> LFS patterns</li> <li><code>--yes</code> / <code>--force</code> allow writing into non-empty target directory</li> </ul>"},{"location":"cli-init/#git-and-lfs-defaults","title":"Git and LFS Defaults","text":"<p>When <code>--no-git</code> is not set and target is not already in a repo:</p> <ul> <li>git repository is initialized</li> <li><code>.gitattributes</code> with default LFS mappings is created (unless <code>--no-lfs-attrs</code>)</li> </ul>"},{"location":"cli-overview/","title":"CLI Reference","text":"<p>This section documents command-line workflows and command surfaces.</p>"},{"location":"cli-overview/#quick-usage","title":"Quick Usage","text":"<pre><code>deelan --help\ndeelan init my-notebook\ndeelan validate\ndeelan build\ndeelan serve\ndeelan tags --help\ndeelan export --help\n</code></pre> <p>Repository-local equivalent if <code>deelan</code> is not on path:</p> <pre><code>node ./bin/deelan.mjs --help\n</code></pre> <p>Or if you pulled the whole package locally (e.g. developer usage):</p> <pre><code>npx deelan --help\n</code></pre>"},{"location":"cli-overview/#command-decision-table","title":"Command Decision Table","text":"You want to... Command Go to Initialize a project scaffold <code>deelan init [dir]</code> Initialization Validate content/frontmatter <code>deelan validate</code> - Build static site output <code>deelan build</code> Build Workflow Serve built output locally <code>deelan serve</code> - Manage tags <code>deelan tags ...</code> Tag Management Export a post/snippet <code>deelan export ...</code> HTML/PDF Export"},{"location":"cli-overview/#command-syntax","title":"Command Syntax","text":"<ul> <li><code>deelan init [dir] [options]</code></li> <li><code>deelan build [--include-subfolder &lt;name&gt;]...</code></li> <li><code>deelan serve [--port &lt;n&gt;]</code></li> <li><code>deelan validate [--include-subfolder &lt;name&gt;]...</code></li> <li><code>deelan tags &lt;subcommand&gt; [options]</code></li> <li><code>deelan export [options]</code></li> </ul> <p>Global logging flags (supported by script-backed commands such as <code>validate</code>, <code>tags</code>, <code>export</code>, and build preflight scripts):</p> <ul> <li><code>--log-level &lt;error|warn|info|debug&gt;</code></li> <li><code>--log-file &lt;path&gt;</code></li> </ul>"},{"location":"cli-overview/#include-subfolder-behavior","title":"Include Subfolder Behavior","text":"<p><code>build</code>, <code>validate</code>, <code>tags</code>, and <code>export</code> support repeated subfolder inclusion:</p> <ul> <li><code>--include-subfolder &lt;name&gt;</code></li> </ul> <p>The provided value is interpreted under both entity roots:</p> <ul> <li><code>content/posts/&lt;name&gt;/*.md</code></li> <li><code>content/snippets/&lt;name&gt;/*.md</code></li> </ul> <p>Examples:</p> <ul> <li><code>deelan validate --include-subfolder synthetic</code></li> <li><code>deelan build --include-subfolder synthetic --include-subfolder experiments/v2</code></li> </ul>"},{"location":"cli-overview/#notes","title":"Notes","text":"<ul> <li><code>deelan</code> commands are the primary user-facing interface.</li> <li>Build-internal npm scripts remain available for maintainer workflows; see Build Workflow.</li> </ul>"},{"location":"cli-tags/","title":"Tag Management","text":"<p>Run via:</p> <pre><code>npm run tags -- &lt;command&gt;\n</code></pre>"},{"location":"cli-tags/#commands","title":"Commands","text":"<ul> <li><code>list</code> - list tags with counts</li> <li><code>stats</code> - summary statistics (items, assignment counts, top tags)</li> <li><code>tree</code> - show hierarchical tag tree</li> <li><code>duplicates [--distance N]</code> - detect canonical and near duplicates</li> <li><code>rename --from &lt;tag&gt; --to &lt;tag&gt; [--subtree] [--apply] [--confirm-subtree]</code></li> <li><code>merge --from &lt;tag&gt; --to &lt;tag&gt; [--subtree] [--apply] [--confirm-subtree]</code></li> <li><code>wordcloud [--out &lt;path&gt;]</code> - generate tag word cloud HTML</li> </ul>"},{"location":"cli-tags/#examples","title":"Examples","text":"<pre><code>npm run tags -- list\nnpm run tags -- stats\nnpm run tags -- tree\nnpm run tags -- duplicates --distance 2\nnpm run tags -- rename --from data.etl --to data.pipeline --subtree\nnpm run tags -- rename --from data.etl --to data.pipeline --subtree --apply --confirm-subtree\nnpm run tags -- wordcloud --out ./exports/tag-wordcloud.html\n</code></pre>"},{"location":"cli-tags/#safety","title":"Safety","text":"<ul> <li><code>rename</code> and <code>merge</code> default to dry-run.</li> <li>Add <code>--apply</code> to write changes.</li> <li>Subtree writes (<code>--subtree --apply</code>) require <code>--confirm-subtree</code>.</li> </ul>"},{"location":"dev-notes/","title":"Developer Notes","text":""},{"location":"dev-notes/#build-pipeline","title":"Build Pipeline","text":"<p><code>npm run build</code> executes:</p> <ol> <li><code>build:prepare-mathjax</code></li> <li><code>build:prepare-search</code></li> <li><code>build:prepare-content-assets</code></li> <li><code>validate</code></li> <li><code>build-indexes</code></li> <li><code>build-analytics</code></li> <li><code>build-git-timeline</code></li> <li><code>astro build</code></li> </ol>"},{"location":"dev-notes/#command-intent","title":"Command Intent","text":"<ul> <li><code>build:prepare-mathjax</code>:<ul> <li>Copies MathJax assets to <code>public/mathjax</code> for offline usage.</li> <li>Used by <code>dev</code> and <code>build</code> preflight.</li> </ul> </li> <li><code>build:prepare-search</code>:<ul> <li>Syncs shared search core from <code>src/lib/search/search-core.js</code> to <code>public/js/search-core.js</code>.</li> <li>Used by <code>dev</code> and <code>build</code> preflight to keep browser/runtime logic aligned.</li> </ul> </li> <li><code>build:prepare-content-assets</code>:<ul> <li>Copies content assets from <code>content/**/assets</code> into <code>public/content-assets/...</code>.</li> <li>Ensures relative image/file paths resolve correctly from both <code>/view/*</code> and explorer routes.</li> </ul> </li> <li><code>build:analytics</code>:<ul> <li>Generates <code>.generated/analytics/tags.json</code> and <code>.generated/analytics/relations.json</code>.</li> <li>Powers the <code>/analytics</code> route with static artifacts.</li> </ul> </li> <li><code>validate</code>:<ul> <li>Validates frontmatter, cross-references, and content constraints before indexing/build.</li> <li>Scans only top-level markdown files under <code>content/posts/*.md</code> and <code>content/snippets/*.md</code>.</li> <li>Subfolders are ignored for content discovery.</li> <li>Optional inclusion for selected subfolders is supported via repeated <code>--include-subfolder &lt;name&gt;</code> or <code>DEELAN_INCLUDE_SUBFOLDERS=name1,name2</code>.</li> <li>Safe to run independently while authoring content.</li> </ul> </li> <li><code>build:preflight</code>:<ul> <li>Internal orchestration command used by npm <code>prebuild</code>.</li> <li>Runs asset prep + sync + content asset mirroring + validation + index/timeline generation.</li> <li>Uses npm-only build-scoped commands (<code>build:indexes</code>, <code>build:timeline</code>) rather than end-user CLI wrapper commands.</li> </ul> </li> </ul>"},{"location":"dev-notes/#test-workflow","title":"Test Workflow","text":"<ul> <li>Run unit tests:<ul> <li><code>npm test</code></li> </ul> </li> <li>Current test scope:<ul> <li>search query parsing (<code>&amp;</code>, <code>|</code>, parentheses, structured filters)</li> <li>search evaluation (text logic, hierarchical tags, date ranges)</li> </ul> </li> <li>Test file:<ul> <li><code>tests/search.test.ts</code></li> </ul> </li> </ul>"},{"location":"dev-notes/#release-workflow","title":"Release Workflow","text":"<ul> <li>End-to-end release automation:<ul> <li><code>npm run release -- &lt;version&gt;</code></li> </ul> </li> <li>Default mode:<ul> <li>Dry run only (prints planned commands, no side effects)</li> </ul> </li> <li>Execute mode:<ul> <li><code>npm run release -- &lt;version&gt; --execute</code></li> </ul> </li> <li>What it does:<ul> <li>runs <code>validate</code>, <code>test</code>, <code>build</code>, <code>pack:dry-run</code></li> <li>verifies npm auth readiness before publish path</li> <li>checks if <code>package@version</code> already exists on npm</li> <li>bumps package version and creates git commit+tag via <code>npm version</code></li> <li>publishes to npm (default tag: <code>latest</code>, override with <code>--npm-tag &lt;tag&gt;</code>)</li> <li>pushes commit and tag to <code>origin</code></li> <li>auto-cleans stale local unpushed tags for interrupted releases and continues</li> </ul> </li> <li>Execute shortcut:<ul> <li><code>npm run release:execute -- &lt;version&gt;</code></li> </ul> </li> <li>CI check command:<ul> <li><code>npm run release:check</code></li> </ul> </li> </ul>"},{"location":"dev-notes/#github-actions","title":"GitHub Actions","text":"<ul> <li>CI workflow:<ul> <li><code>.github/workflows/ci.yml</code></li> <li>Runs <code>release:check</code> on pull requests and pushes to <code>main</code>.</li> </ul> </li> <li>Tag-check workflow:<ul> <li><code>.github/workflows/release.yml</code></li> <li>Triggers on git tags matching <code>v*</code>.</li> <li>Verifies tag version matches <code>package.json</code> version.</li> <li>Runs <code>release:check</code> only (no npm publish, no GitHub release creation).</li> </ul> </li> <li>npm publish policy:<ul> <li>Keep publishing local/manual via <code>npm run release -- &lt;version&gt; --execute</code>.</li> </ul> </li> </ul>"},{"location":"dev-notes/#loadstress-testing-with-synthetic-content","title":"Load/Stress Testing with Synthetic Content","text":"<p>Synthetic content is ignored by default because discovery scans only top-level files. Use <code>--include-subfolder synthetic</code> (or <code>DEELAN_INCLUDE_SUBFOLDERS=synthetic</code>) when you explicitly want it included.</p> <p>Commands:</p> <ul> <li>Generate synthetic data:<ul> <li><code>npm run synthetic:generate -- --posts 140 --snippets 220 --seed 20260222</code></li> </ul> </li> <li>Cleanup synthetic data:<ul> <li><code>npm run synthetic:clean</code></li> </ul> </li> <li>Validate with synthetic data:<ul> <li><code>npm run validate:with-synthetic</code></li> <li>Equivalent CLI form: <code>node ./bin/deelan.mjs validate --include-subfolder synthetic</code></li> </ul> </li> <li>Build with synthetic data:<ul> <li><code>npm run build:with-synthetic</code></li> <li>Equivalent CLI form: <code>node ./bin/deelan.mjs build --include-subfolder synthetic</code></li> </ul> </li> <li>Run tests with synthetic mode enabled:<ul> <li><code>npm run test:with-synthetic</code></li> </ul> </li> </ul>"},{"location":"dev-notes/#key-build-artifacts","title":"Key Build Artifacts","text":"<ul> <li><code>.generated/search/posts-index.json</code></li> <li><code>.generated/search/snippets-index.json</code></li> <li><code>.generated/manifests/content-manifest.json</code></li> <li><code>.generated/analytics/tags.json</code></li> <li><code>.generated/analytics/relations.json</code></li> <li><code>.generated/timeline/versions.json</code></li> </ul> <p>These are generated files and should not be treated as source-of-truth content.</p>"},{"location":"dev-notes/#script-vs-library-separation","title":"Script vs Library Separation","text":"<ul> <li><code>scripts/*</code>: build entrypoints and orchestration commands</li> <li><code>src/lib/*</code>: reusable domain logic and shared types/helpers used by pages/scripts</li> </ul> <p>Example:</p> <ul> <li><code>scripts/build-git-timeline.ts</code> generates timeline artifacts</li> <li><code>src/lib/git/timeline.ts</code> is the reusable timeline domain layer</li> </ul>"},{"location":"dev-notes/#search-architecture","title":"Search Architecture","text":"<ul> <li>Shared search core (single source of truth):<ul> <li><code>src/lib/search/search-core.js</code></li> </ul> </li> <li>TypeScript wrappers:<ul> <li><code>src/lib/search/query-parser.ts</code></li> <li><code>src/lib/search/query-eval.ts</code></li> </ul> </li> <li>Browser usage:<ul> <li><code>public/js/filter.js</code></li> <li><code>public/js/search-core.js</code> (synced by <code>scripts/prepare-search.ts</code> via <code>build:prepare-search</code>)</li> </ul> </li> </ul>"},{"location":"dev-notes/#markdownmath-rendering","title":"Markdown/Math Rendering","text":"<ul> <li>Markdown + code highlighting:<ul> <li><code>src/lib/content/render-markdown.ts</code></li> </ul> </li> <li>MathJax asset preparation:<ul> <li><code>scripts/prepare-mathjax.ts</code> (via <code>build:prepare-mathjax</code>)</li> </ul> </li> <li>Offline MathJax runtime assets:<ul> <li><code>public/mathjax/</code></li> </ul> </li> <li>Mirrored content assets:<ul> <li><code>public/content-assets/...</code></li> </ul> </li> </ul>"},{"location":"dev-notes/#pwaoffline","title":"PWA/Offline","text":"<ul> <li>Service worker:<ul> <li><code>public/service-worker.js</code></li> </ul> </li> <li>Client registration:<ul> <li><code>public/js/pwa-register.js</code></li> </ul> </li> <li>Detailed behavior:<ul> <li><code>docs/topic-caching.md</code></li> </ul> </li> </ul>"},{"location":"dev-notes/#current-gaps","title":"Current Gaps","text":"<ul> <li>Index-list filtering is currently client-side only.</li> <li>Query parser has no explicit syntax-error UI feedback.</li> </ul>"},{"location":"dev-overview/","title":"Developer Guide","text":"<p>For maintainers working on internals, build orchestration, docs tooling, and Storybook.</p>"},{"location":"dev-overview/#requirements","title":"Requirements","text":"<ul> <li>Node.js 22+</li> <li>npm (with dev dependencies installed; do not use <code>--omit=dev</code>)</li> <li>Python 3 (for MkDocs tooling)</li> <li>Git + Git LFS</li> <li>Optional: Playwright + Chromium for PDF export</li> </ul> <p>Install project dependencies:</p> <pre><code>npm install\n</code></pre> <p>Install docs dependencies:</p> <pre><code>npm run docs:install\n</code></pre> <p>Install optional PDF export dependencies:</p> <pre><code>npm install playwright\nnpx playwright install chromium\n</code></pre> <p>Repository shortcut:</p> <pre><code>npm run optional:pdf\n</code></pre>"},{"location":"dev-overview/#developer-quickstart","title":"Developer Quickstart","text":"<p>Run local development:</p> <pre><code>npm run dev\n</code></pre> <p>Run core checks:</p> <pre><code>npm test\nnpm run validate\nnpm run build\n</code></pre>"},{"location":"dev-overview/#docs-and-storybook-tooling","title":"Docs and Storybook Tooling","text":"<p>Storybook:</p> <ul> <li><code>npm run storybook:serve</code></li> <li><code>npm run storybook:build</code></li> </ul> <p>MkDocs:</p> <ul> <li><code>npm run docs:serve</code></li> <li><code>npm run docs:build</code></li> <li><code>npm run docs:deploy</code></li> </ul>"},{"location":"dev-overview/#contributor-workflow","title":"Contributor Workflow","text":"<p>Typical contributor loop:</p> <ol> <li>create a feature branch</li> <li>run local checks before opening PR</li> <li>open PR and iterate on review feedback</li> <li>merge only after required checks pass</li> </ol> <p>Useful commands:</p> <ul> <li>validate content: <code>npm run validate</code></li> <li>run tests: <code>npm test</code></li> <li>full quality gate: <code>npm run release:check</code></li> </ul> <p>If you deploy the Astro site publicly, set <code>site</code> in <code>astro.config.mjs</code> to your canonical URL.</p>"},{"location":"dev-overview/#release-and-github-actions","title":"Release and GitHub Actions","text":"<p>Local release command (publish remains local/manual):</p> <ul> <li>dry run (default): <code>npm run release -- &lt;version&gt;</code></li> <li>execute release: <code>npm run release -- &lt;version&gt; --execute</code></li> <li>execute shortcut: <code>npm run release:execute -- &lt;version&gt;</code></li> </ul> <p>Release script behavior:</p> <ul> <li>validates semver ordering and tag constraints</li> <li>verifies npm auth (<code>npm whoami</code>) before publish steps</li> <li>checks whether <code>package@version</code> is already published</li> <li>runs <code>validate</code>, <code>test</code>, <code>build</code>, and <code>pack:dry-run</code></li> <li>calls <code>npm version</code> (commit + tag)</li> <li>publishes to npm and pushes git commit/tag only in <code>--execute</code> mode</li> <li>auto-recovers from stale local unpushed tags after interrupted releases</li> </ul> <p>GitHub Actions in this repository:</p> <ul> <li><code>.github/workflows/ci.yml</code></li> <li>runs <code>release:check</code> on PRs and pushes to <code>main</code></li> <li><code>.github/workflows/release.yml</code></li> <li>runs checks-only on <code>v*</code> tags</li> <li>verifies tag/version consistency</li> <li>does not publish to npm</li> <li><code>.github/workflows/docs.yml</code></li> <li>deploys MkDocs to <code>gh-pages</code> on doc-related changes to <code>main</code></li> <li>supports manual trigger via <code>workflow_dispatch</code></li> </ul>"},{"location":"main-forme/","title":"Is Deelan for me?","text":"<p>Deelan is a local-first publishing layer for Markdown notes.</p> <p>If your current workflow is \"Word files in folders\", Deelan is the same core habit with a stronger structure:</p> <ul> <li>you still write content files</li> <li>you still organize files in folders</li> <li>but the content is plain text (<code>.md</code>) instead of binary document formats</li> <li>and Deelan turns those files into a searchable, linked, browsable site</li> </ul> <p>Tip</p> <p>If you are not familiar with Markdown or git, there are a lot of introduction texts and videos that can be found online. Ask your favorite AI agent for a brief intro and recommendations to learn more. </p>"},{"location":"main-forme/#the-core-idea","title":"The Core Idea","text":"<p>You keep a normal git repository with:</p> <ul> <li><code>content/posts/*.md</code> for long-form entries</li> <li><code>content/snippets/*.md</code> for short reusable notes</li> </ul> <p>Deelan reads this repository and generates:</p> <ul> <li>list/explorer pages</li> <li>rendered detail pages (<code>/view/&lt;id&gt;</code>)</li> <li>search indexes</li> <li>tag analytics</li> <li>exportable HTML/PDF outputs</li> </ul>"},{"location":"main-forme/#why-this-helps","title":"Why This Helps","text":"<p>Compared with ad-hoc document folders:</p> <ul> <li>content changes and history is traceable with git and can be sync'd between multiple devices</li> <li>links between notes stay explicit and validated</li> <li>metadata is structured (frontmatter)</li> <li>outputs are static (simple hosting, private sharing, offline-friendly)</li> </ul>"},{"location":"main-forme/#what-writing-looks-like","title":"What Writing Looks Like","text":"<p>You write Markdown as usual. A small frontmatter header describes metadata such as:</p> <ul> <li>title</li> <li>tags</li> <li>description</li> <li>related item IDs</li> </ul> <p>Deelan then handles rendering, navigation, linking, and filtering.</p>"},{"location":"main-forme/#typical-workflow","title":"Typical Workflow","text":"<ol> <li>Initialize a notebook project with <code>deelan init</code>.</li> <li>Add/edit notes in <code>content/posts</code> and <code>content/snippets</code>.</li> <li>Validate with <code>deelan validate</code>.</li> <li>Build with <code>deelan build</code>.</li> <li>Serve locally with <code>deelan serve</code>.</li> <li>Export individual items with <code>deelan export</code>.</li> </ol>"},{"location":"main-forme/#what-deelan-is-not","title":"What Deelan Is Not","text":"<p>Deelan is not a collaborative online editor by itself.</p> <ul> <li>It does not replace Google Docs or Word online co-editing.</li> <li>It does not manage user accounts/permissions internally.</li> </ul> <p>Instead, it gives you a durable publishing and navigation layer on top of files you own.</p>"},{"location":"main-forme/#where-it-fits-best","title":"Where It Fits Best","text":"<p>Deelan works best when you want:</p> <ul> <li>private knowledge capture</li> <li>long-term maintainability</li> <li>clean version history</li> <li>static publishing with minimal infrastructure</li> </ul> <p>For teams, the common model is:</p> <ul> <li>author in git</li> <li>validate/build in CI</li> <li>serve static output behind your preferred access controls</li> </ul>"},{"location":"main-gallery/","title":"Visual Gallery","text":""},{"location":"main-gallery/#theming","title":"Theming","text":"deelan.config.yml<pre><code>default_theme: light\n</code></pre> deelan.config.yml<pre><code>default_theme: dark\n</code></pre> deelan.config.yml<pre><code>default_theme: dark\naccent_hue: 10\n</code></pre>"},{"location":"main-gallery/#posts-and-snippets","title":"Posts and Snippets","text":"<p>View and search posts at <code>/posts</code>:</p> <p></p> <p>View and filter snippets at <code>/snippets</code>:</p> <p></p> <p>Posts and snippets can be exported as standalone artifacts using e.g.: <pre><code>deelan export --id post--showcase --format html --out ./exports\n</code></pre></p> <p>View standalone showcase HTML.</p>"},{"location":"main-gallery/#analytics","title":"Analytics","text":"<p>Each post or snippet can be assigned multiple tags.  The analytics page at <code>/analytics</code> displays basic tag statistics. All tags can also be explored in a table: </p> <p></p> <p>The relationships between posts and snippets, as defined by internal links between them (see <code>related_ids</code> frontmatter property), can be visualized as a graph with network-theoretic metrics computed at build time:</p> <p></p>"},{"location":"topic-branding/","title":"Branding and Visual Identity","text":"<p>This page describes the current Deelan visual identity system and where each asset is used.</p>"},{"location":"topic-branding/#brand-assets","title":"Brand Assets","text":"<p>Canonical assets live in <code>logos/</code>:</p> <ul> <li><code>deelan-hires.png</code>: full-color hero art (high resolution)</li> <li><code>deelan-cartoon.png</code>: lightweight transparent logo</li> <li><code>deelan-favicon.png</code>: source image for favicon/icon derivatives</li> </ul> <p>Operational derivatives are generated/copied into:</p> <ul> <li><code>public/</code> for Astro app usage</li> <li><code>docs/assets/</code> for MkDocs usage</li> </ul> <p>Detailed mapping is maintained in <code>logos/BRAND.md</code>.</p>"},{"location":"topic-branding/#where-branding-appears","title":"Where Branding Appears","text":"<ul> <li>App shell (Astro):</li> <li>favicon and touch icon in <code>&lt;head&gt;</code></li> <li>home hero image in the index route</li> <li>Docs (MkDocs Material):</li> <li>header logo and favicon from <code>docs/assets/</code></li> <li>Storybook:</li> <li>dark manager theme + Deelan manager title</li> <li>HTML/PDF export:</li> <li>typography and color treatment follow theme tokens</li> <li>no forced logo watermark by default</li> </ul>"},{"location":"topic-branding/#accent-and-color-direction","title":"Accent and Color Direction","text":"<p>Deelan uses a hue-seeded theme model:</p> <ul> <li>configure <code>accent_hue</code> in <code>deelan.config.yml</code></li> <li>light/dark palettes derive from this single hue</li> <li>app and export styling share the same token model</li> </ul> <p>Practical recommendation:</p> <ul> <li>start by adjusting only <code>accent_hue</code></li> <li>keep hue in <code>130..200</code> for robust legibility across themes</li> </ul> <p>See also: Configuration.</p>"},{"location":"topic-branding/#typography-direction","title":"Typography Direction","text":"<p>Current typography roles:</p> <ul> <li>UI/controls/headings: <code>--font-ui</code></li> <li>body text: <code>--font-body</code></li> <li>code/technical literals: <code>--font-mono</code></li> </ul> <p>Avoid mixing role intent. The strongest results come from consistent role usage rather than frequent font switching.</p>"},{"location":"topic-branding/#naming","title":"Naming","text":"<p>Use <code>Deelan</code> as the default product spelling.</p>"},{"location":"topic-branding/#current-gap-vector-finalization","title":"Current Gap (Vector Finalization)","text":"<p>A final vector package is still pending:</p> <ul> <li>icon mark SVG</li> <li>lockup SVG</li> <li>favicon SVG source</li> </ul> <p>This does not block product usage, but it is the remaining step for a complete publish-ready visual identity kit.</p>"},{"location":"topic-caching/","title":"PWA Offline Caching","text":"<p>Deelan uses a service worker for offline-first browsing after first load.</p>"},{"location":"topic-caching/#files","title":"Files","text":"<ul> <li>Service worker: <code>public/service-worker.js</code></li> <li>Registration script: <code>public/js/pwa-register.js</code></li> <li>Offline fallback page: <code>public/offline.html</code></li> </ul>"},{"location":"topic-caching/#caching-strategy","title":"Caching Strategy","text":"<ul> <li>Pre-cache on install:<ul> <li><code>/</code></li> <li><code>/posts/</code></li> <li><code>/snippets/</code></li> <li><code>/offline.html</code></li> <li><code>/js/filter.js</code></li> <li><code>/js/search-core.js</code></li> <li><code>/js/pwa-register.js</code></li> <li><code>/mathjax/tex-mml-chtml.js</code></li> </ul> </li> <li>Navigation requests: network-first with offline fallback page</li> <li>Static assets (<code>/_astro/</code>, <code>/js/</code>, <code>/mathjax/</code>): cache-first</li> <li>JSON requests: stale-while-revalidate</li> <li>Old caches are purged on activation based on cache version</li> </ul>"},{"location":"topic-caching/#update-prompt-behavior","title":"Update Prompt Behavior","text":"<p>When a new service worker is installed and an older one is controlling the page:</p> <ol> <li>The UI prompts the user to reload.</li> <li>On confirmation, <code>SKIP_WAITING</code> is sent.</li> <li>Page reloads on <code>controllerchange</code>.</li> </ol>"},{"location":"topic-caching/#versioning","title":"Versioning","text":"<p>Cache version is set in <code>public/service-worker.js</code>:</p> <ul> <li><code>CACHE_VERSION = 'deelan-v2'</code></li> </ul> <p>Bump this value when changing caching behavior/assets to force a clean cache upgrade.</p>"},{"location":"topic-caching/#development-notes","title":"Development Notes","text":"<p>Service workers can retain stale assets across local iterations.</p> <p>To reset manually in browser devtools:</p> <ol> <li>Application tab -&gt; Service Workers -&gt; Unregister</li> <li>Application tab -&gt; Storage -&gt; Clear site data</li> </ol> <p>Then reload the app.</p>"},{"location":"topic-keyboard-shortcuts/","title":"Keyboard Shortcuts","text":"<p>This page lists keyboard shortcuts currently available in Deelan.</p>"},{"location":"topic-keyboard-shortcuts/#snippets-explorer","title":"Snippets Explorer","text":"<p>Available on <code>/snippets</code>:</p> <ul> <li>J or Down Arrow: move selection to next visible snippet</li> <li>K or Up Arrow: move selection to previous visible snippet</li> <li>Enter or O: open selected snippet in a new tab (<code>/view/&lt;id&gt;</code>)</li> <li>Y: copy selected snippet permalink to clipboard</li> </ul> <p>Behavior notes:</p> <ul> <li>Shortcuts only act on visible (filtered) snippet rows.</li> <li>Shortcuts are ignored while typing in form controls (<code>input</code>, <code>textarea</code>, <code>select</code>) or contenteditable areas.</li> <li>Copy action reuses the same permalink toast notification used elsewhere in the UI.</li> </ul>"},{"location":"topic-reverse-proxy/","title":"Reverse Proxy and HTTPS","text":"<p>This page describes how to protect <code>deelan serve</code> behind a reverse proxy with TLS termination and authentication.</p>"},{"location":"topic-reverse-proxy/#why-use-a-reverse-proxy","title":"Why Use a Reverse Proxy","text":"<p><code>deelan serve</code> is a static preview server. It is intentionally simple and does not provide built-in auth, TLS, or access policy. For local/private hosting, the standard pattern is:</p> <ol> <li>Run Deelan locally (<code>127.0.0.1:4321</code> by default).</li> <li>Put Caddy or Nginx in front of it.</li> <li>Let the proxy enforce HTTPS and authentication.</li> </ol>"},{"location":"topic-reverse-proxy/#minimal-architecture","title":"Minimal Architecture","text":"<ul> <li>Deelan app:<ul> <li><code>deelan serve --host 127.0.0.1 --port 4321</code></li> </ul> </li> <li>Reverse proxy:<ul> <li>listens on <code>443</code></li> <li>forwards requests to <code>127.0.0.1:4321</code></li> <li>handles certificates and auth</li> </ul> </li> </ul>"},{"location":"topic-reverse-proxy/#caddy-example-simple-recommended-path","title":"Caddy Example (Simple Recommended Path)","text":"<p>Template file in repository:</p> <ul> <li><code>templates/reverse-proxy/Caddyfile</code></li> </ul> <pre><code>notes.example.com {\n  reverse_proxy 127.0.0.1:4321\n\n  basicauth {\n    admin $2a$14$replace-with-bcrypt-hash\n  }\n}\n</code></pre> <p>Notes:</p> <ul> <li>Caddy automatically manages Let's Encrypt certificates for public DNS names.</li> <li>For internal names, use your internal CA flow or Caddy local cert mode.</li> <li>Generate bcrypt hash with <code>caddy hash-password</code>.</li> </ul>"},{"location":"topic-reverse-proxy/#nginx-example","title":"Nginx Example","text":"<p>Template file in repository:</p> <ul> <li><code>templates/reverse-proxy/nginx.conf</code></li> </ul> <pre><code>server {\n  listen 443 ssl;\n  server_name notes.example.com;\n\n  ssl_certificate     /etc/ssl/certs/notes.example.com.crt;\n  ssl_certificate_key /etc/ssl/private/notes.example.com.key;\n\n  auth_basic           \"Restricted\";\n  auth_basic_user_file /etc/nginx/.htpasswd;\n\n  location / {\n    proxy_pass http://127.0.0.1:4321;\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n  }\n}\n</code></pre>"},{"location":"topic-reverse-proxy/#certificate-setup-what-is-required","title":"Certificate Setup: What Is Required","text":"<p>Certificate setup depends on where you host:</p> <ul> <li>Public DNS host (internet-reachable):<ul> <li>easiest path</li> <li>automatic cert issuance is available (for example via Let's Encrypt with Caddy).</li> </ul> </li> <li>Private internal host/domain:<ul> <li>use your company PKI/internal CA, or a local CA trusted by your team machines.</li> </ul> </li> <li>Local-only workstation development:<ul> <li>HTTPS is optional for solo local use.</li> <li>if needed, use local dev cert tooling (for example <code>mkcert</code>) and trust it locally.</li> </ul> </li> </ul> <p>In practice, yes: each deployment environment needs certificate setup. In corporate contexts this is often done once by IT/platform admins, then reused.</p>"},{"location":"topic-reverse-proxy/#operational-guidance","title":"Operational Guidance","text":"<ul> <li>Keep Deelan bound to localhost; expose only proxy ports.</li> <li>Rotate proxy credentials (basic auth) periodically.</li> <li>Restrict network access with firewall rules when possible.</li> <li>Log access at proxy layer.</li> </ul>"},{"location":"topic-reverse-proxy/#scope-boundary","title":"Scope Boundary","text":"<p>Reverse-proxy auth/TLS covers most local/private collaboration needs with low complexity. Enterprise SSO (OIDC/SAML) can be layered at the proxy/identity stack later, without changing core Deelan rendering logic.</p>"},{"location":"topic-reverse-proxy/#why-this-is-mostly-documentation-templates","title":"Why This Is Mostly Documentation + Templates","text":"<p>No additional Deelan runtime dependency is required for this pattern because:</p> <ul> <li>TLS termination is handled by the proxy (Caddy/Nginx), not by <code>deelan serve</code>.</li> <li>Authentication is handled by the proxy as well.</li> <li>Deelan remains a static-site server behind localhost upstream.</li> </ul> <p>So the implementation surface is:</p> <ul> <li>deployment templates (<code>templates/reverse-proxy/*</code>)</li> <li>operational documentation (this page + getting-started quick setup)</li> </ul> <p>not changes to Deelan rendering/build internals.</p>"},{"location":"topic-search/","title":"Search Grammar","text":"<p>Deelan search combines:</p> <ol> <li>Boolean text expression</li> <li>Structured filters</li> </ol>"},{"location":"topic-search/#text-expression","title":"Text Expression","text":"<p>Supported operators:</p> <ul> <li><code>&amp;</code> logical AND</li> <li><code>|</code> logical OR</li> <li><code>(</code> and <code>)</code> grouping</li> </ul> <p>Examples:</p> <ul> <li><code>spark &amp; partitioning</code></li> <li><code>(spark | dbt) &amp; model</code></li> <li><code>\"slowly changing dimension\" | scd</code></li> </ul> <p>Matching is case-insensitive substring matching over indexed text fields.</p>"},{"location":"topic-search/#structured-filters","title":"Structured Filters","text":"<p>Supported tokens:</p> <ul> <li><code>title:&lt;value&gt;</code></li> <li><code>tag:&lt;value&gt;</code></li> <li><code>from:YYYY-MM-DD</code></li> <li><code>to:YYYY-MM-DD</code></li> </ul> <p>Examples:</p> <ul> <li><code>title:partitioning</code></li> <li><code>tag:data.lake.*</code></li> <li><code>title:etl tag:data.pipeline from:2026-01-01 to:2026-12-31</code></li> <li><code>(spark | dbt) &amp; title:model tag:analytics</code></li> </ul>"},{"location":"topic-search/#tag-matching","title":"Tag matching","text":"<ul> <li>exact: <code>tag:data.lake.partitioning</code></li> <li>prefix wildcard: <code>tag:data.lake.*</code></li> </ul>"},{"location":"topic-search/#notes","title":"Notes","text":"<ul> <li>Structured tokens are removed before boolean expression parsing.</li> <li>Invalid/partial expressions degrade gracefully (empty terms ignored).</li> <li>UI controls (title/tag/date fields) merge with query-string filters.</li> </ul>"},{"location":"user-analytics/","title":"Analytics","text":"<p>Deelan includes a static <code>analytics/</code> route generated from build artifacts.</p>"},{"location":"user-analytics/#what-it-shows","title":"What it shows","text":"<ul> <li>summary cards (items, tags, average tags per item, relation edges, graph components)</li> <li>sortable tag frequency table</li> <li>static hierarchical treemap</li> <li>post/snippet relationship graph</li> </ul>"},{"location":"user-analytics/#build-artifacts","title":"Build Artifacts","text":"<p>Generated during <code>build:analytics</code>:</p> <ul> <li><code>.generated/analytics/tags.json</code></li> <li><code>.generated/analytics/relations.json</code></li> </ul> <p>These are rebuilt by <code>npm run build</code> (via preflight).</p>"},{"location":"user-analytics/#graph-metrics","title":"Graph metrics","text":"<p>The node details panel reports:</p> <ul> <li><code>Neighbors</code>: number of directly connected items (degree centrality)</li> <li><code>Degree normalized</code>: degree normalized by graph size</li> <li><code>Closeness</code>: inverse mean shortest-path distance to reachable nodes</li> <li><code>Betweenness</code>: frequency of appearing on shortest paths between other nodes</li> <li><code>Betweenness normalized</code>: normalized betweenness score</li> <li><code>PageRank</code>: influence score from incoming graph structure</li> <li><code>Component</code>: connected component id and component size</li> </ul> <p>Metrics are computed at build time in headless Cytoscape and embedded in analytics artifacts.</p> <p>Reference links:</p> <ul> <li>Cytoscape.js centrality APIs</li> <li>Cytoscape.js PageRank</li> </ul>"},{"location":"user-analytics/#notes","title":"Notes","text":"<ul> <li>Treemap is intentionally static in v1 and optimized for readability over interaction.</li> </ul>"},{"location":"user-authoring/","title":"Authoring Features","text":"<p>Deelan supports extended markdown authoring for posts/snippets.</p>"},{"location":"user-authoring/#internal-links","title":"Internal Links","text":"<p>Use wiki-style links:</p> <ul> <li><code>[[post--partitioning-primer]]</code></li> <li><code>[[snippet--pandas-groupby|Pandas groupby snippet]]</code></li> </ul> <p>These render to <code>/view/&lt;id&gt;</code> links. <code>npm run validate</code> fails on unknown internal IDs.</p>"},{"location":"user-authoring/#table-of-contents","title":"Table of Contents","text":"<p>Use either marker in markdown:</p> <ul> <li><code>[[toc]]</code></li> <li><code>[toc]</code></li> </ul> <p>If omitted, Deelan auto-injects a TOC when headings are present.</p>"},{"location":"user-authoring/#admonitions-callouts","title":"Admonitions (Callouts)","text":"<p>Use blockquote callout syntax:</p> <pre><code>&gt; [!NOTE] Optional title\n&gt; Body text.\n</code></pre> <p>Use <code>[!TYPE]</code> for fixed admonitions and <code>[?TYPE]</code> for collapsible admonitions:</p> <pre><code>&gt; [!WARNING] Fixed warning\n&gt; Always visible.\n\n&gt; [?TIP] Collapsible tip\n&gt; Hidden by default; click title to expand.\n</code></pre> <p>Supported common types include <code>NOTE</code>, <code>TIP</code>, <code>WARNING</code>, <code>DANGER</code>, <code>CAUTION</code>.</p>"},{"location":"user-authoring/#footnotes","title":"Footnotes","text":"<pre><code>Text with a reference[^1].\n\n[^1]: Footnote body.\n</code></pre>"},{"location":"user-authoring/#figures","title":"Figures","text":"<p>Use markdown image syntax with a width specifier:</p> <pre><code>![Caption text](./images/diagram.png){width=60%}\n![Caption text](./images/diagram.png){width=120mm}\n</code></pre> <p>Supported units:</p> <ul> <li><code>%</code></li> <li><code>mm</code></li> <li><code>cm</code></li> <li><code>in</code></li> </ul> <p>Figures render as centered block elements with caption below. When using relative paths, Deelan mirrors content assets to <code>public/content-assets/...</code> during build/dev, using <code>/content-assets/&lt;entity-type&gt;/&lt;slug-or-subpath&gt;/...</code>.</p>"},{"location":"user-authoring/#asset-management-best-practices","title":"Asset Management Best Practices","text":"<p>Recommended conventions as content grows:</p> <ol> <li> <p>Keep assets close to content.</p> <ul> <li>post assets: <code>content/posts/assets/&lt;post-slug&gt;/...</code></li> <li>snippet assets: <code>content/snippets/assets/&lt;snippet-slug&gt;/...</code></li> </ul> </li> <li> <p>Use relative paths from the markdown file.</p> <ul> <li><code>![Caption](./assets/example/figure-01.svg){width=65%}</code></li> </ul> </li> <li> <p>Use deterministic file names.</p> <ul> <li><code>figure-01-overview.svg</code></li> <li><code>table-01-benchmarks.png</code></li> <li>avoid spaces and uppercase</li> </ul> </li> <li> <p>Prefer source formats when possible.</p> <ul> <li>diagrams: <code>svg</code> preferred</li> <li>photos/screenshots: <code>png</code>/<code>jpg</code></li> <li>keep very large binaries out of git history when avoidable (<code>git lfs</code> recommended)</li> </ul> </li> <li> <p>Keep one asset folder per document when it has many figures.</p> <ul> <li>easier refactors</li> <li>easier cleanup when deleting content</li> </ul> </li> <li> <p>For shared assets, use an explicit shared directory.</p> <ul> <li><code>content/posts/assets/shared/...</code> or <code>content/snippets/assets/shared/...</code></li> <li>only for assets intentionally reused across many items of the same entity type</li> </ul> </li> <li> <p>Validate before publishing.</p> <ul> <li>run <code>npm run validate</code></li> <li>run <code>npm run build</code> and inspect <code>/view/&lt;id&gt;</code></li> </ul> </li> </ol>"},{"location":"user-authoring/#mermaid-diagrams","title":"Mermaid Diagrams","text":"<p>Use fenced code blocks:</p> <pre><code>```mermaid\nflowchart TD\n  A --&gt; B\n```\n</code></pre> <p>Mermaid blocks are currently displayed as source blocks (no in-app diagram renderer). If you need rendered diagrams today, generate an image (for example SVG/PNG) and include it as a figure.</p>"},{"location":"user-configuration/","title":"Configuration","text":"<p>Runtime configuration is stored in <code>deelan.config.yml</code> at project root.</p>"},{"location":"user-configuration/#available-options","title":"Available Options","text":"<ul> <li><code>blog_title</code> (<code>string</code>) site title in header and page titles</li> <li><code>footer_text</code> (<code>string</code>) footer text</li> <li><code>default_theme</code> (<code>light | dark</code>) initial theme before user override</li> <li><code>timezone</code> (<code>string</code>, default: <code>UTC</code>) IANA timezone for rendered timestamps</li> <li><code>accent_hue</code> (<code>number</code>, default: <code>150</code>) shared hue seed used by light/dark theme variables</li> <li><code>content_max_width</code> (<code>string</code>, default: <code>1100px</code>) main content container width</li> <li><code>code_theme_light</code> (<code>string</code>, default: <code>github-light</code>) Shiki theme for light mode code blocks</li> <li><code>code_theme_dark</code> (<code>string</code>, default: <code>github-dark</code>) Shiki theme for dark mode code blocks</li> <li><code>timeline_commit_url_template</code> (<code>string</code>, default: empty) URL template with <code>${COMMIT_SHA}</code></li> <li><code>enable_posts_list_view</code> (<code>boolean</code>, default: <code>false</code>) enable optional posts list-card view and table/list toggle</li> <li><code>log_level</code> (<code>error | warn | info | debug</code>, default: <code>info</code>) global CLI/script logging threshold</li> <li><code>log_file</code> (<code>string</code>, optional) path to append logs to (relative to project root)</li> </ul>"},{"location":"user-configuration/#example","title":"Example","text":"<pre><code>blog_title: Deelan.\nfooter_text: \"Built with \u2665 using Deelan.\"\ndefault_theme: dark\ntimezone: America/Los_Angeles\naccent_hue: 150\ncontent_max_width: 1100px\ncode_theme_light: material-theme-lighter\ncode_theme_dark: material-theme-darker\ntimeline_commit_url_template: https://github.com/jhadida/deelan/commit/${COMMIT_SHA}\nenable_posts_list_view: false\nlog_level: info\n# log_file: .generated/logs/deelan.log\n</code></pre>"},{"location":"user-configuration/#theme-tokens-and-ui-customization","title":"Theme Tokens and UI Customization","text":"<p>For common customization, you do not need to copy <code>src/</code> styles:</p> <ul> <li>Change <code>accent_hue</code> to re-seed both light and dark palettes.</li> <li>Change <code>content_max_width</code> to adjust main page width.</li> </ul> <p>These values map into CSS variables at runtime (for site rendering and exports):</p> <ul> <li><code>accent_hue</code> -&gt; <code>--accent-hue</code></li> <li><code>content_max_width</code> -&gt; <code>--container-max</code> and <code>--detail-max</code></li> </ul>"},{"location":"user-configuration/#timezone-format","title":"Timezone Format","text":"<p>Use IANA timezone identifiers, for example:</p> <ul> <li><code>UTC</code></li> <li><code>America/Los_Angeles</code></li> <li><code>Europe/Paris</code></li> <li><code>Asia/Tokyo</code></li> </ul>"},{"location":"user-configuration/#code-highlighting-themes","title":"Code Highlighting Themes","text":"<p><code>code_theme_light</code> and <code>code_theme_dark</code> map directly to Shiki themes.</p> <p>Example:</p> <pre><code>code_theme_light: one-light\ncode_theme_dark: nord\n</code></pre>"},{"location":"user-configuration/#notes","title":"Notes","text":"<ul> <li>Timestamps are rendered without timezone suffix.</li> <li>Invalid <code>timezone</code> falls back to <code>UTC</code>.</li> <li>Invalid code themes fall back to <code>github-light</code> / <code>github-dark</code>.</li> <li><code>accent_hue</code> is clamped to <code>0..360</code>.</li> <li>Invalid <code>content_max_width</code> falls back to <code>1100px</code>.</li> <li>If <code>timeline_commit_url_template</code> is missing <code>${COMMIT_SHA}</code>, timeline SHAs render as plain text.</li> </ul>"},{"location":"user-configuration/#logging-configuration","title":"Logging Configuration","text":"<p>Logging resolution order is:</p> <ol> <li>CLI flags (<code>--log-level</code>, <code>--log-file</code>)</li> <li>Environment (<code>DEELAN_LOG_LEVEL</code>, <code>DEELAN_LOG_FILE</code>)</li> <li><code>deelan.config.yml</code> (<code>logging.level</code> / <code>logging.file</code> or <code>log_level</code> / <code>log_file</code>)</li> <li>Built-in defaults (<code>info</code>, no log file)</li> </ol> <p>Example overrides:</p> <pre><code>deelan build --log-level debug\ndeelan validate --log-file .generated/logs/validate.log\n</code></pre>"},{"location":"user-editor/","title":"Editor Integration","text":""},{"location":"user-editor/#vscode","title":"VSCode","text":"<p>Recommended extensions are listed in <code>.vscode/extensions.json</code> (all optional).</p>"},{"location":"user-editor/#frontmatter-authoring-support","title":"Frontmatter Authoring Support","text":"<ul> <li><code>.frontmatter/config.yml</code> defines Deelan post/snippet fields for the Front Matter extension.</li> <li><code>.vscode/deelan-frontmatter.code-snippets</code> provides raw Markdown snippets:<ul> <li><code>deelan-post-fm</code></li> <li><code>deelan-snippet-fm</code></li> </ul> </li> <li><code>.vscode/settings.json</code> enables snippet suggestions in Markdown contexts.</li> </ul> <p>Use snippets when editing Markdown files directly. If suggestions still do not appear, use <code>Insert Snippet</code> from the command palette.</p> <p>Use the Front Matter extension dashboard/forms when you prefer structured field editing. Folder-scoped snippet activation (for <code>content/**</code> only) is not supported natively by VSCode workspace snippets.</p>"},{"location":"user-editor/#validation","title":"Validation","text":"<p>Live schema validation inside Markdown frontmatter is limited in VSCode. Authoring help is provided via Front Matter forms + snippets, and canonical validation is:</p> <pre><code>deelan validate\n</code></pre>"},{"location":"user-editor/#obsidian","title":"Obsidian","text":"<p>Use Obsidian to edit contents by creating a vault at the root of any new project folder.</p>"},{"location":"user-editor/#recommended-setup","title":"Recommended Setup","text":"<ul> <li>Enable core <code>Templates</code> plugin.</li> <li>Optional community plugin: <code>Metadata Menu</code> for form-like metadata editing.</li> </ul> <p>Template files are provided in:</p> <ul> <li><code>.frontmatter/templates/post.md</code></li> <li><code>.frontmatter/templates/snippet.md</code></li> </ul> <p>Point Obsidian Templates folder to <code>.frontmatter/templates</code> (or copy these files into your preferred templates folder).</p>"},{"location":"user-editor/#sublime-vim-emacs","title":"Sublime / Vim / Emacs","text":"<p>Use YAML/Markdown language servers and snippets tied to the frontmatter schema fields.</p> <p>Schemas:</p> <ul> <li>Post schema: <code>src/schemas/frontmatter-post.schema.json</code></li> <li>Snippet schema: <code>src/schemas/frontmatter-snippet.schema.json</code></li> <li>Combined schema: <code>src/schemas/frontmatter.schema.json</code></li> </ul>"},{"location":"user-frontmatter/","title":"Frontmatter","text":"<p>Deelan uses separate frontmatter schemas for posts and snippets.</p>"},{"location":"user-frontmatter/#file-naming-and-discovery","title":"File Naming and Discovery","text":"<p>Default discovery scans only:</p> <ul> <li><code>content/posts/*.md</code></li> <li><code>content/snippets/*.md</code></li> </ul> <p>Subfolders are ignored unless explicitly included via repeated:</p> <ul> <li><code>--include-subfolder &lt;name&gt;</code></li> </ul> <p>Examples:</p> <ul> <li><code>--include-subfolder synthetic</code></li> <li><code>--include-subfolder experiments/v2</code></li> </ul> <p>Discovered files must be:</p> <ul> <li>lowercase kebab-case filename</li> <li>single <code>.md</code> extension</li> </ul> <p>Valid:</p> <ul> <li><code>partitioning-primer.md</code></li> <li><code>sql-dedupe.md</code></li> </ul> <p>Invalid (excluded with warnings):</p> <ul> <li><code>Foo-bar.md</code> (uppercase)</li> <li><code>foo.bar.md</code> (multiple extensions)</li> <li><code>foo_bar.md</code> (underscore)</li> </ul>"},{"location":"user-frontmatter/#identity-derivation","title":"Identity Derivation","text":"<ul> <li><code>type</code> inferred from directory:<ul> <li><code>content/posts/*</code> -&gt; <code>post</code></li> <li><code>content/snippets/*</code> -&gt; <code>snippet</code></li> </ul> </li> <li><code>id</code> generated from type + slug:<ul> <li><code>post--&lt;slug&gt;</code></li> <li><code>snippet--&lt;slug&gt;</code></li> </ul> </li> </ul> <p>Examples:</p> <ul> <li><code>content/posts/partitioning-primer.md</code> -&gt; <code>post--partitioning-primer</code></li> <li><code>content/snippets/pandas-groupby.md</code> -&gt; <code>snippet--pandas-groupby</code></li> </ul> <p><code>type</code> is optional in frontmatter. If provided, it must match inferred type. <code>id</code> should not be provided in frontmatter.</p>"},{"location":"user-frontmatter/#frontmatter-schemas","title":"Frontmatter Schemas","text":""},{"location":"user-frontmatter/#post","title":"Post","text":"<p>Required:</p> <ul> <li><code>title</code></li> <li><code>tags</code></li> <li><code>version</code></li> </ul> <p>Optional:</p> <ul> <li><code>type</code> (<code>post</code>)</li> <li><code>description</code></li> <li><code>related_ids</code> (<code>post--...</code> / <code>snippet--...</code>)</li> <li><code>created_at</code></li> <li><code>updated_at</code></li> <li><code>status</code> (<code>draft | published | archived</code>)</li> </ul>"},{"location":"user-frontmatter/#snippet","title":"Snippet","text":"<p>Required:</p> <ul> <li><code>title</code></li> <li><code>tags</code></li> </ul> <p>Optional:</p> <ul> <li><code>type</code> (<code>snippet</code>)</li> <li><code>description</code></li> <li><code>related_ids</code></li> <li><code>created_at</code></li> <li><code>updated_at</code></li> </ul> <p>Snippets do not support <code>version</code> or <code>status</code>.</p>"},{"location":"user-guide/","title":"Getting Started","text":"<p>This guide is for new users and intentionally focuses on <code>deelan</code> commands only.</p>"},{"location":"user-guide/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js 22+</li> <li>Git</li> <li>Git LFS (strongly recommended for non-text assets)</li> </ul>"},{"location":"user-guide/#create-a-project","title":"Create a Project","text":"<pre><code>deelan init my-notebook\ncd my-notebook\n</code></pre> <p>If <code>deelan</code> is not on your path in this repository, see the CLI Overview for repository-local invocation details.</p>"},{"location":"user-guide/#build-and-serve","title":"Build and Serve","text":"<pre><code>deelan validate\ndeelan build\ndeelan serve\n</code></pre> <p>Open http://localhost:4321.</p>"},{"location":"user-guide/#optional-secure-localteam-access-https-password","title":"Optional: Secure Local/Team Access (HTTPS + Password)","text":"<p>If you want to expose your Deelan site to collaborators on a local network or private host, run Deelan behind a reverse proxy (Caddy or Nginx) instead of exposing <code>deelan serve</code> directly.</p> <p>High-level flow:</p> <ol> <li>Run <code>deelan serve</code> on localhost only.</li> <li>Put Caddy or Nginx in front of it.</li> <li>Configure HTTPS (TLS certificates) and authentication at the proxy layer.</li> <li>Share the proxy URL, not the raw localhost port.</li> </ol> <p>This keeps Deelan itself simple while using standard production security patterns. For step-by-step examples, see Reverse Proxy and HTTPS.</p>"},{"location":"user-guide/#core-commands","title":"Core Commands","text":"<ul> <li><code>deelan validate</code> - validate frontmatter and cross-references.</li> <li><code>deelan build</code> - run preflight generation + static build.</li> <li><code>deelan serve</code> - serve the built site.</li> <li><code>deelan tags --help</code> - inspect and manage tags.</li> <li><code>deelan export --help</code> - export an item as HTML or PDF.   PDF export additionally requires optional Playwright/Chromium setup (see Export Contents).</li> </ul>"},{"location":"user-guide/#content-types","title":"Content Types","text":"<p>Deelan has two content types with distinct intent:</p> <ul> <li><code>post</code><ul> <li>Longer-form content.</li> <li>Includes lifecycle metadata such as <code>version</code> and <code>status</code>.</li> <li>Shows a timeline/history section in the rendered detail view.</li> </ul> </li> <li><code>snippet</code><ul> <li>Short, focused reference notes or code fragments.</li> <li>Intentionally lighter metadata surface (no <code>version</code>/<code>status</code> fields).</li> <li>Optimized for fast browsing and in-page preview in snippets explorer.</li> </ul> </li> </ul> <p>In both cases, IDs are generated from filenames and type:</p> <ul> <li><code>post--&lt;slug&gt;</code></li> <li><code>snippet--&lt;slug&gt;</code></li> </ul>"},{"location":"user-guide/#content-discovery-rules","title":"Content Discovery Rules","text":"<p>By default, Deelan discovers only top-level markdown files:</p> <ul> <li><code>content/posts/*.md</code></li> <li><code>content/snippets/*.md</code></li> </ul> <p>Subfolders are ignored unless explicitly included.</p> <p>To include subfolders, repeat:</p> <ul> <li><code>--include-subfolder &lt;name&gt;</code></li> </ul> <p>Examples:</p> <ul> <li><code>deelan validate --include-subfolder synthetic</code></li> <li><code>deelan build --include-subfolder synthetic --include-subfolder experiments/v2</code></li> </ul>"},{"location":"user-guide/#content-authoring","title":"Content Authoring","text":"<p>Create content under:</p> <ul> <li><code>content/posts/</code></li> <li><code>content/snippets/</code></li> </ul> <p>Then refer to:</p> <ul> <li>Authoring</li> <li>Frontmatter</li> <li>Configuration</li> <li>Editor Integration</li> </ul>"},{"location":"user-guide/#git-lfs","title":"Git + LFS","text":"<p><code>deelan init</code> initializes a git repository by default when target is not already in one. It also writes default <code>.gitattributes</code> LFS patterns unless <code>--no-lfs-attrs</code> is used.</p>"},{"location":"user-overview/","title":"User Guide","text":"<p>For authors and users working with content and site configuration.</p>"},{"location":"user-overview/#start-here","title":"Start Here","text":"<ul> <li>Getting Started</li> </ul>"},{"location":"user-overview/#authoring-and-content","title":"Authoring and Content","text":"<ul> <li>Authoring</li> <li>Frontmatter</li> </ul>"},{"location":"user-overview/#configuration-and-exploration","title":"Configuration and Exploration","text":"<ul> <li>Configuration</li> <li>Analytics</li> <li>Branding and Visual Identity</li> <li>Editor Integration</li> </ul>"}]}